# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' @name extractAllTransiviteSequences
NULL

#' @name extractAllTransiviteSequences
NULL

#' @name createTransitiveSequences
#' @title create Transitive Sequences
#' @description Function to create all transitive sequences
#' an store in binary format them to files
#' @returns the overall number of sequences stored
#' @param  df_dbMart The dataframe that stores the numeric data mart.
#' @param outputDir The path as string to the directory where the sequences should be stored.
#' @param outputFilePrefix The string file prefix for the patient files storing the sequences.
#' @param numOfThreads The number of threads that should be used during sequencing.
createTransitiveSequences <- function(df_dbMart, outputDir, outputFilePrefix, numOfThreads = 1L) {
    .Call(`_tSPMPlus_createTransitiveSequences`, df_dbMart, outputDir, outputFilePrefix, numOfThreads)
}

#' @name tSPMPlus
#' @title tSPMPlus
#' @description Function to call the tSPM+ workflow, most of the other function provide by this package are wrapper functions
#' that calls this functions with predefined parameters
#' @returns The sequences as data frame.
#' @param  df_dbMart The data frame that stores the data mart.
#' @param outputDir The path as string to the directory where the sequences should be stored.
#' @param outputFilePrefix The string file prefix for the patient files storing the sequences.
#' @param numOfThreads The number of threads that should be used during sequencing.
#' @param storeSeqDuringCreation  Boolean parameter to control if the duration should be included in the sequence ID during creation, DEFAULT = FALSE.
#' @param removeSparseSequences  Boolean parameter to control if the sparsity should be applied
#' @param sparsityValue          The numeric value for the sparsity. DEFAULT = 0.05.
#' @param createTemporalBuckets  Boolean flag if the the the sequences should be split up in dynamic buckets. Number of buckets min(4, max_duration(sequence)).
#' @param removeSparseTemporalBuckets Boolean, to control if the sparsity should be applied on the dynamic temporal buckets
#' @param durationSparsity  Boolean flag to control if sparse sequences should be removed considering the duration periods of a sequence.
#' @param durationSparsityValue Numeric value.
#' @param patIdLength Integer, describes the number of digits that represents a phenx in the sequence.
#' @param returnDuration Boolean, controls if the data frame that is returns contains 
#' @param durationPeriods Numeric, Upper threshold, stores the number of day in the time period, e.g. 30.471 for months, 364.25 for years. 
#' @param daysForCoOoccurence Integer, sets the upper threshold for the sequence duration so that they are counted as co-occurrence (meaning a duration of 0).
tSPMPlus <- function(df_dbMart, storeSeqDuringCreation = FALSE, outputDir = "", outputFilePrefix = "", numOfThreads = 1L, removeSparseSequences = TRUE, sparsityValue = 0.05, createTemporalBuckets = FALSE, durationSparsity = FALSE, durationSparsityValue = 0, removeSparseTemporalBuckets = FALSE, patIdLength = 7L, returnDuration = TRUE, durationPeriods = 30.437, daysForCoOoccurence = 14L) {
    .Call(`_tSPMPlus_tSPMPlus`, df_dbMart, storeSeqDuringCreation, outputDir, outputFilePrefix, numOfThreads, removeSparseSequences, sparsityValue, createTemporalBuckets, durationSparsity, durationSparsityValue, removeSparseTemporalBuckets, patIdLength, returnDuration, durationPeriods, daysForCoOoccurence)
}

#' @name extractNonSparseSequences
#' @title extract Non Sparse Sequences
#' @description Extracts all non sparse transitive sequences from the data mart, after converting it to numeric.
#' @returns The sequences as data frame.
#' @param df_dbMart The data frame that stores the data mart.
#' @param outputDir The path as string to the directory where the sequences should be stored.
#' @param outputFilePrefix The string file prefix for the patient files storing the sequences.
#' @param numOfThreads The number of threads that should be used during sequencing.
#' @param storeSeqDuringCreation  Boolean parameter to control if the duration should be included in the sequence ID during creation, DEFAULT = FALSE.
#' @param sparsityValue          The numeric value for the sparsity. DEFAULT = 0.05.
#' @param returnDuration Boolean, controls if the data frame that is returns contains 
#' @param durationPeriods Numeric, Upper threshold, stores the number of day in the time period, eg. 30.471 for months, 364.25 for years. 
#' @param daysForCoOoccurence Integer, sets the upper threshold for the sequence duration so that they are counted as co-occurrence (meaning a duration of 0).
extractNonSparseSequences <- function(df_dbMart, storeSeqDuringCreation = FALSE, outputDir = "", outputFilePrefix = "", sparsityValue = 0.05, numOfThreads = 1L, returnDuration = TRUE, durationPeriods = 30.437, daysForCoOoccurence = 14L) {
    .Call(`_tSPMPlus_extractNonSparseSequences`, df_dbMart, storeSeqDuringCreation, outputDir, outputFilePrefix, sparsityValue, numOfThreads, returnDuration, durationPeriods, daysForCoOoccurence)
}

extractAllTransiviteSequences <- function(df_dbMart, storeSeqDuringCreation = FALSE, outputDir = "", outputFilePrefix = "", numOfThreads = 1L, returnDuration = TRUE, durationPeriods = 30.437, daysForCoOoccurence = 14L) {
    .Call(`_tSPMPlus_extractAllTransiviteSequences`, df_dbMart, storeSeqDuringCreation, outputDir, outputFilePrefix, numOfThreads, returnDuration, durationPeriods, daysForCoOoccurence)
}

getSequencesWithEndPhenx <- function(df_dbMart, bitShift, lengthOfPhenx, lowerBucketThresholds, endPhenx, includeCorBuckets = FALSE, minDuration = 0L, storeSeqDuringCreation = FALSE, outputDir = "", outputFilePrefix = "", numOfThreads = 1L, removeSparseSequences = TRUE, sparsityValue = 0.05, createTemporalBuckets = FALSE, durationSparsity = FALSE, durationSparsityValue = 0, removeSparseTemporalBuckets = FALSE, patIdLength = 7L, returnDuration = TRUE, durationPeriods = 30.437, daysForCoOoccurence = 14L) {
    .Call(`_tSPMPlus_getSequencesWithEndPhenx`, df_dbMart, bitShift, lengthOfPhenx, lowerBucketThresholds, endPhenx, includeCorBuckets, minDuration, storeSeqDuringCreation, outputDir, outputFilePrefix, numOfThreads, removeSparseSequences, sparsityValue, createTemporalBuckets, durationSparsity, durationSparsityValue, removeSparseTemporalBuckets, patIdLength, returnDuration, durationPeriods, daysForCoOoccurence)
}

#' @name getCandidateSequencesForPOI
#' @title Get Candidate Sequences For Phenx Of Interest (POI)
#' @description Function to extract all sequences that end with phenx j, that is a end phenx for each phenx in startPhenxOfInterest.
#' @returns The sequences as data frame.
#' @param  df_dbMart The data frame that stores the data mart.
#' @param minDuration the minimum duration at least one sequence from type poi->j must have, for j to be considered a candidate.
#' @param bitShift  Integer, the number of bits used to shift the duration into sequnceID.
#' @param lowerBucketThresholds IntegerVector, lower duration Thresholds for the duration buckets of the candidate sequences
#' @param startPhenxOfInterest IntegerVector, numeric representation of the POI.
#' @param outputDir The path as string to the directory where the sequences should be stored.
#' @param outputFilePrefix The string file prefix for the patient files storing the sequences.
#' @param numOfThreads The number of threads that should be used during sequencing.
#' @param storeSeqDuringCreation  Boolean parameter to control if the duration should be included in the sequence ID during creation, DEFAULT = FALSE.
#' @param removeSparseSequences  Boolean parameter to control if the sparsity should be applied
#' @param sparsityValue          The numeric value for the sparsity. DEFAULT = 0.05.
#' @param createTemporalBuckets  Boolean flag if the the the sequences should be split up in dynamic buckets. Number of buckets min(4, max_duration(sequence)).
#' @param removeSparseTemporalBuckets Boolean, to control if the sparsity should be applied on the dynamic temporal buckets
#' @param durationSparsity  Boolean flag to control if sparse sequences should be removed considering the duration periods of a sequence.
#' @param durationSparsityValue Numeric value.
#' @param patIdLength Integer, describes the number of digits that represents a phenx in the sequence.
#' @param returnDuration Boolean, controls if the data frame that is returns contains 
#' @param durationPeriods Numeric, Upper threshold, stores the number of day in the time period, e.g. 30.471 for months, 364.25 for years. 
#' @param daysForCoOoccurence Integer, sets the upper threshold for the sequence duration so that they are counted as co-occurrence (meaning a duration of 0).
#' @example{}
getCandidateSequencesForPOI <- function(df_dbMart, minDuration, bitShift, lengthOfPhenx, lowerBucketThresholds, startPhenxOfInterrest, storeSeqDuringCreation = FALSE, outputDir = "", outputFilePrefix = "", numOfThreads = 1L, removeSparseSequences = TRUE, sparsityValue = 0.05, createTemporalBuckets = FALSE, durationSparsity = FALSE, durationSparsityValue = 0, removeSparseTemporalBuckets = FALSE, patIdLength = 7L, returnDuration = TRUE, durationPeriods = 30.437, daysForCoOoccurence = 14L) {
    .Call(`_tSPMPlus_getCandidateSequencesForPOI`, df_dbMart, minDuration, bitShift, lengthOfPhenx, lowerBucketThresholds, startPhenxOfInterrest, storeSeqDuringCreation, outputDir, outputFilePrefix, numOfThreads, removeSparseSequences, sparsityValue, createTemporalBuckets, durationSparsity, durationSparsityValue, removeSparseTemporalBuckets, patIdLength, returnDuration, durationPeriods, daysForCoOoccurence)
}

#' @name getStartPhenxFromSequence
#' @title Get Start Phenx From Sequence
#' @description Function to extract the start Phenx from a sequence
#' @returns The startPhenx of a sequence
#' @param  sequence  Integer.
#' @param phenxLenght Integer, the length of a phenx in the sequence.
getStartPhenxFromSequence <- function(sequence, phenxLenght = 7L) {
    .Call(`_tSPMPlus_getStartPhenxFromSequence`, sequence, phenxLenght)
}

#' @name getEndPhenxFromSequence
#' @title Get End Phenx From Sequence
#' @description Function to extract the start Phenx from a sequence
#' @returns The startPhenx of a sequence
#' @param  sequence  Integer.
#' @param phenxLenght Integer, the length of a phenx in the sequence.
getEndPhenxFromSequence <- function(sequence, phenxLenght = 7L) {
    .Call(`_tSPMPlus_getEndPhenxFromSequence`, sequence, phenxLenght)
}

#' @name createSequence
#' @title Create a sequence from toi phenx
#' @description Function create a sequence from toi phenx.
#' @returns Integer.
#' @param  firstPhenx  Integer.
#' @param  secondPhenx  Integer.
#' @param phenxLenght Integer, the length of a phenx in the sequence.
createSequence <- function(firstPhenx, secondPhenx, phenxLength = 7L) {
    .Call(`_tSPMPlus_createSequence`, firstPhenx, secondPhenx, phenxLength)
}

